---
title: "内部存储器"
date: 2025-10-09  # 文章发布时间
categories: [计算机组织与结构] # 你的分类
tags: [笔记]     # 你的标签
math: true
---

## 回顾：存储器

存储器（Memory）由一定数量的单元构成，每个单元可以被唯一标识，每个单元都有存储一个数值的能力

- 地址：单元的唯一标识符（采用二进制）
- 地址空间：可唯一标识的单元总数
- 寻址能力：存储在每个单元中的信息的位数（这句话对也不对，本质是地址的长度会反映寻址能力）
- 大多数存储器是字节寻址的，而执行科学计算的计算机通常是64位寻址的



## 存储器层次结构

冯诺伊曼结构里的存储器只有主存

<img src="https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-09%2015.33.53.png" alt="截屏2025-10-09 15.33.53" style="zoom:50%;" />



## 半导体存储器

<img src="https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-09%2015.35.12.png" alt="截屏2025-10-09 15.35.12" style="zoom: 50%;" />

![截屏2025-10-09 15.37.20](https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-09%2015.37.20.png)

### 随机存取存储器 Random-Access Memory（RAM）

- 可以简单快速地进行读/写操作（因为找到一个地方就放进去）
- **易失的（Volatile）**---一拔电就没了！要求电源持续供电才能保存位值

分类：

1. 动态RAM（DRAM）：Dynamic RAM
2. 静态RAM（SRAM）：Static RAM

### DRAM

- 在电容器上用电容充电的方式存储数据---电容器中有无电荷在分别代表二进制的1与0
- 需要周期地充电刷新以维护数据存储---原因：电容器有漏电的自然趋势

由一个阈值来确定电荷是被解释为1还是0 

### SRAM

**SRAM效率比DRAM高，但是集成度低，所以会去做一些速度要求高，但是容量要求低的任务**

- 使用传统触发器、逻辑门配置来存储二进制值（使用与处理器相同的逻辑元件）
- 只要有电源，就可以一直维持数据



> - DRAM比SRAM具有更简单、更小的位元，但要求能支持刷新的电路
> - DRAM比相应的SRAM密度更高，价格更低
> - SRAM通常比DRAM快
> - DRAM更倾向于满足大容量存储器的需求，SRAM一般用于高速缓存，DRAM用于主存



### 高级的DRAM架构

问题：传统的DRAM芯片受到其内部架构和与处理器内存总线接口的限制

#### SDRAM(Synchronous DRAM,同步DRAM)

**传统DRAM是异步的**

- 处理器向内存提供地址和控制信号，表示内存中特定单元的一组数据应该被读出或写入DRAM
- DRAM执行各种内部功能，如激活行和列地址线的高电容，读取数据，以及通过输出缓冲将数据输出，处理器只能等待这段延迟，即存取时间
- 延时后，DRAM才写入或读取数据



![截屏2025-10-16 14.28.49](https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-16%2014.28.49.png)

1. SDRAM与处理器的数据交互同步与外部的时钟信号，并且以处理器/存储器总 线的最高速度运行，而不需要插入等待状态 
2. 由于SDRAM随系统时钟及时移动数据，CPU知道数据何时准备好，控制器可 以完成其它工作

#### DDR SDRAM(Double-Data-Rate SDRAM,双速率SDRAM)

![截屏2025-10-16 14.29.09](https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-16%2014.29.09.png)

1. 每个时钟周期发送两次数据，一次在时钟脉冲的上升沿，一次在下降沿
2. DDR ➔ DDR2 ➔ DDR3 ➔ DDR4

- 增加操作频率
- 增加预取缓冲区



### 半导体存储器类型

![截屏2025-10-16 14.29.49](https://cdn.jsdelivr.net/gh/HEYWEEN/images@main/images%E6%88%AA%E5%B1%8F2025-10-16%2014.29.49.png)

只读存储器可不可以写入？当然了！不然你读什么呢！

所以含义是：写完之后不能改！



#### ROM(Read-only memory,只读存储器)

> 为什么需要ROM？---最重要的原因，非易失的！


**特性**

1. 非易失的：不要求供电来维持数据
2. 可读，但不能写入新数据

**应用**

微程序设计，库子程序，系统程序，函数表

**问题**

1. 无出错处理机会：如果有一位出错，整批的ROM芯片只能报废
2. 用户无法写入数据：唯一的数据写入机会在出厂时完成



举个显而易见的例子：恢复出厂设置！出厂设置存在ROM里，岂不美哉？



#### PROM(Programmable ROM,可编程ROM)

**特性**

1. 非易失的
2. 只能被写入一次

- 写过程是用电信号执行
- 需要特殊设备来完成写或“编程”过程

**与ROM的对比**

1. PROM提供了灵活性和方便性
2. ROM在大批量生产领域仍具有吸引力



#### Read-Mostly Memory(主要进行读操作的存储器)

**特性**

- 非易失的
- 写操作与读操作相比，较为困难

**应用**

读操作比写操作频繁得多的场景

**类型**

- EPROM
- EEPROM
- Flash memory



##### EPROM(Erasable programmable read-only memory,可擦除可编程“只读”存储器)

**特性**

1. 光擦除

- 擦除：在写操作前将封装芯片暴露在紫外线下
- 所有的存储单元都变回相同的初始状态
- 每次擦除需要约20分钟

2. 电写入

**与PROM对比**:EPROM更贵，但具有可多次改写的优点



##### EEPROM(Electrically erasable programmable read-only memory,电可擦除可编程“只读”存储器)

**特性**

- 可以随时写入而不删除之前的内容
- 只更新寻址到的一个或多个字节
- 写操作每字节需要几百微秒

与EPROM对比：EEPROM更贵，且密度低，支持小容量芯片



##### Flash Memory(快闪存储器)

**特性**

- 电可擦除：与EEPROM相同，优于EPROM
- 擦除时间为几秒：优于EPROM，不如EEPROM
- 可以在块级擦除，不能在字节级擦除：优于EPROM，不如EEPROM
- 达到与EPROM相同的密度：优于EEPROM

**与EPROM、EEPROM对比**：价格和功能介于EPROM和EEPROM之间