---
title: "计算机网络概述"
date: 2025-09-02  # 文章发布时间
categories: [互联网计算] # 你的分类
tags: [笔记]     # 你的标签
math: true
---

> [!NOTE]
>
> 1.计算机网络＝节点＋链路，节点可以是计算机、集线器、交换机、路由器等
>
> 2.互联网是网络的网络。互联网把许多网络通过一些路由器连接在一起。
>
> 3.网络互连需要计算机上的适当软件
>
> 4.ISP IXP
>
> 5.互联网的拓扑结构从工作方式上可以分为边缘部分（用户直接使用）和核心部分（为边缘服务提供服务【连通性和交换】）
>
> 6.网络边缘的端系统之间的通信方式可以分为C/S方式和P2P方式
>
> 7.路由器---分组交换
>
> 8.五层体系结构

##  一、什么是计算机网络？  

**定义**：计算机网络是由多个计算机或其他设备通过通信链路（有线或无线）连接起来，实现资源共享和信息传递的系统。  

**关键元素**：  

- **节点（Node）**：网络中的设备，如电脑、手机、服务器等。  
- **链路（Link）**：连接节点的物理或逻辑通道。  

---

## 二、网络的分类  

#### 1. **局域网（LAN, Local Area Network）**  

- 覆盖范围小（如一栋楼、一个校园）  
- 高速传输（可达 Gbps）  
- 错误率低，易于管理  
- 常见技术：Ethernet（以太网）  

#### 2. **广域网（WAN, Wide Area Network）**  

- 覆盖范围大（如城市、国家、全球）  
- 传输速度较低，错误率较高  
- 常见技术：光纤、卫星、DSL、Frame Relay 等  

---

## 三、互联网（Internet）与互联网（internet）  

- **internet**（小写i）：指由多个网络互联而成的网络。  
- **Internet**（大写I）：全球最大的、开放的互联网网络，使用 **TCP/IP** 协议族。  

#### 互联网的多层ISP结构：  

- **ISP（Internet Service Provider）**：互联网服务提供商  
- 分层结构：  
  - 第一层ISP（国际级）  
  - 第二层ISP（国家级/区域级）  
  - 本地ISP（城市级/公司级）  
- 数据通过 **NAP（Network Access Point）** 在不同ISP之间交换  

---

## 四、数据传输的基本概念  

#### 1. **数据（Data）**  

- 信息的编码形式（0和1的序列）  
- 通过电信号或光信号传输  

#### 2. **数据包（Packet）**  

- 将大数据分割成小单元进行传输  
- 优点：  
  - 多设备轮流发送  
  - 丢失后重传效率高  
  - 可走不同路径  

#### 3. **协议（Protocol）**  

- 通信双方必须遵守的规则集合  
- 如：TCP/IP、HTTP、FTP 等  

#### 4. **带宽（Bandwidth）与吞吐量（Throughput）**  

- **带宽**：理论上最大传输速率（bps）  
- **吞吐量**：实际测得的传输速率  

---

## 五、网络参考模型  

#### 1. **OSI 七层模型**  

由国际标准化组织（ISO）提出，分为七层，每层功能明确：  

| 层数 | 名称       | 功能                   | 关键词           |
| ---- | ---------- | ---------------------- | ---------------- |
| 7    | 应用层     | 提供用户接口和服务     | 浏览器、HTTP     |
| 6    | 表示层     | 数据格式转换、加密压缩 | 通用格式         |
| 5    | 会话层     | 建立、管理、终止会话   | 对话             |
| 4    | 传输层     | 端到端通信、可靠性保障 | 可靠性、流量控制 |
| 3    | 网络层     | 寻址和路由选择         | 路由、IP地址     |
| 2    | 数据链路层 | 帧传输、错误检测       | 帧、MAC地址      |
| 1    | 物理层     | 传输比特流、物理介质   | 信号、电缆       |

#### 2. **TCP/IP 四层模型**  

由美国国防部开发，是互联网的实际标准：  

| 层数 | 名称       | 对应OSI层 | 协议示例       |
| ---- | ---------- | --------- | -------------- |
| 4    | 应用层     | 5–7       | HTTP, FTP, DNS |
| 3    | 传输层     | 4         | TCP, UDP       |
| 2    | 互联网层   | 3         | IP, ICMP       |
| 1    | 网络接入层 | 1–2       | Ethernet, WiFi |

---

> [!IMPORTANT]
>
> # 本书的五层协议体系结构
>
> 它将庞大而复杂的网络通信过程分解为五个逻辑层，每一层都建立在下一层的基础上，并为其上一层提供服务。
>
> 这种分层思想的精髓在于：**每一层只关心自己层内的功能，并使用下一层提供的服务，而无需关心下层是如何实现的**。这极大地简化了设计和排查过程。
>
> ---
>
> ### 一个生动的比喻：公司文件传递
>
> 想象一下，你们公司（**应用层**）的北京分部要向上海分部寄送一份重要的合同（**数据**）。
>
> 1.  **应用层**：北京的总经理起草了合同内容（原始数据），并写上“致上海王总”（应用层头）。
> 2.  **运输层**：秘书拿到合同，她不管内容是什么，只负责可靠寄送。她把合同放进一个专用信封，写上发件人和收件人的**具体部门和人名**（**端口号**），并登记在快递单上，确保如果丢失可以重发（**TCP协议**）。
> 3.  **网络层**：快递公司收到信封。他们不关心部门和人名，只关心**城市地址**。他们在信封外再套一个大信封，写上**北京的源IP地址**和**上海的目标IP地址**（**IP协议**），并规划最佳的运输路线（**路由**）。
> 4.  **数据链路层**：快递车负责把包裹从一个**中转站**运到下一个**中转站**（比如从北京集散中心运到天津集散中心）。司机不关心最终地址，只关心下一个中转站地址。他把大信封放进一个运输箱，写上“下一站：天津集散中心”的**MAC地址**。
> 5.  **物理层**：最后，运输箱被装上卡车，通过**高速公路、铁路或航空**（网线、光纤、无线电波）真实地、以比特流的形式从北京运到了天津。卡车和路不关心箱子里是什么，只负责运输信号。
>
> 到了上海后，这个过程反过来，一层一层地拆开信封，最终将合同内容送达给上海的王总。
>
> ---
>
> ### 五层协议详解
>
> ```
> 应用层
> |
> 传输层：进程到进程【相较于网络层，颗粒度更细，加强了网络层的服务】
> //主机---路由器交换机---路由器交换机---路由器交换机---...---主机
> |
> 网络层：提供源主机到目标主机之间的数据交互（端到端）；尽力而为 best effort（没有保障）
> E2E(end to end)包含若干个P2P（点到点 point to point）
> |
> 链路层（以帧为单位）（相邻两点）
> |
> 物理层：在发送时把数字信号变成物理信号，借助物理介质传送给另一个网卡（比如网线、光纤，media处于第零层，在物理层之上）
> ```
>
> #### 1. 物理层
>
> *   **功能**：在物理介质上传输原始的**比特流**（就是0和1）。它定义了接口的物理特性（如网线水晶头的形状）、电气特性（如电压大小代表0或1）、功能特性等。
> *   **关键概念**：比特流、信号同步、调制解调器、中继器、集线器。
> *   **数据单位**：**比特**。
> *   **协议示例**：RS-232, V.35, 1000BASE-T（千兆以太网物理标准）。
> *   **好比**：负责把文字变成摩斯电码（0和1）并通过电线传输出去。
>
> #### 2. 数据链路层
>
> *   **功能**：负责在**同一个局域网**内，通过**MAC地址**识别设备，进行可靠的数据帧传输。它将物理层传来的可能出错的比特流组装成“帧”，并进行差错检测（如CRC校验），但不纠错。
> *   **关键概念**：**帧**、**MAC地址**、交换机、差错检测。
> *   **数据单位**：**帧**。
> *   **协议示例**：**以太网协议**、PPP、HDLC。
> *   **好比**：给摩斯电码加上开始和结束标记，组成一封信，并检查这封信在传输过程中有没有被干扰出错。负责“一跳”的传输（比如从你的电脑到家里的路由器）。
>
> #### 3. 网络层
>
> *   **功能**：负责在**不同的网络**之间（即从源主机到目标主机）进行逻辑寻址和路径选择。这是整个体系结构的**核心**，它使得互联网成为可能。
> *   **关键概念**：**IP协议**、**IP地址**、**路由器**、**路由选择**、分组交换。
> *   **数据单位**：**数据包**（或分组）。
> *   **协议示例**：**IP**、**ICMP**、**ARP**、OSPF、BGP。
> *   **好比**：根据最终收件人的**IP地址**（相当于城市名和街道名），规划信件从北京到上海的整个路线，并决定在每个路口（路由器）该往哪个方向走。负责“端到端”的传输。
>
> #### 4. 运输层（传输层）
>
> *   **功能**：负责为两台主机**进程之间**的通信提供通用的数据传输服务。它管理数据的流量控制、差错恢复（重传）和确保可靠性。
> *   **关键概念**：**端口号**（用于标识具体应用程序）、**TCP**、**UDP**、流量控制、拥塞控制。
> *   **数据单位**：**报文段**（TCP）或**用户数据报**（UDP）。
> *   **协议示例**：**TCP**（可靠的、面向连接的）、**UDP**（不可靠的、无连接的）。
> *   **好比**：总经理把信交给秘书（TCP），秘书负责确保信能可靠地送到对方秘书手中。如果信丢了，秘书会再寄一份。端口号则指定这封信是给总经理的还是给财务部的。
>
> #### 5. 应用层
>
> *   **功能**：最靠近用户的一层，为应用程序提供网络服务接口。它定义了应用程序如何交换信息。
> *   **关键概念**：各种应用协议、用户接口。
> *   **数据单位**：**报文**。
> *   **协议示例**：**HTTP**（网页）、**HTTPS**、**DNS**（域名解析）、**FTP**（文件传输）、**SMTP/POP3**（电子邮件）、**WebSocket**。
> *   **好比**：公司的总经理起草合同内容（应用数据），并指定这封信是商业合同（HTTP协议）而不是私人信件。
>
> ---
>
> ### 数据封装与解封装过程
>
> 当您发送数据时，数据会从应用层开始，**自上而下**地打包（封装），每经过一层都会加上该层的头部信息（和尾部）。
> 当接收方收到数据时，会**自下而上**地拆包（解封装），每经过一层都会去掉相应的头部，并执行该层的操作，最终将原始数据送达给目标应用程序。
>
> **发送端（封装）**：原始数据 -> +应用层头 -> +运输层头 -> +网络层头 -> +数据链路层头尾 -> 比特流
> **接收端（解封装）**：比特流 -> 去掉数据链路层头尾 -> 去掉网络层头 -> 去掉运输层头 -> 去掉应用层头 -> 原始数据
>
> ### 总结
>
> 这个五层模型是一个完美的学习工具，它清晰地勾勒出了网络通信的全貌：
>
> *   **物理层**管“信号”
> *   **数据链路层**管“帧”和“MAC地址”
> *   **网络层**管“包”和“IP地址与路由”
> *   **运输层**管“段”和“端口与连接”
> *   **应用层**管“报文”和“具体应用内容”

## 六、OSI 与 TCP/IP 对比  

| 对比项   | OSI 模型       | TCP/IP 模型    |
| -------- | -------------- | -------------- |
| 层数     | 7层            | 4层            |
| 适用范围 | 理论指导       | 实际应用       |
| 协议支持 | 较少实际协议   | 互联网标准协议 |
| 普及度   | 教学和设计参考 | 广泛使用       |

---

## 七、关键术语总结  

- **数据封装**：数据在发送时每层添加头部信息，接收时逐层解封装  
- **对等通信（Peer-to-Peer）**：同一层之间的逻辑通信  
- **MAC地址**：数据链路层使用的物理地址  
- **IP地址**：网络层使用的逻辑地址  